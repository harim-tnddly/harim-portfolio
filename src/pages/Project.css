/* Project Section Layout */
.project-section {
    width: 100%;
    min-height: 100vh;
    background-color: transparent;
    /* Make transparent for background lines */
    padding: 200px 100px 200px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow: visible !important;
    /* Force unlock scroll */
    height: auto;
    position: relative;
}

/* --- Content 3 Part Layout --- */
.project-content {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    /* Align top */
    width: 100%;
    /* max-width: 1400px; */
    /* Removed limit to fill width if needed */
    padding: 0 5%;
    margin-top: 50px;
    gap: 40px;
}

/* Part Left & Right Animation Base */
.part-left,
.part-right {
    transition: all 0.4s ease-out;
    opacity: 1;
    transform: translateX(0);
}

/* Hidden State (When animating) */
.part-left.content-hidden {
    opacity: 0;
    transform: translateX(-150px);
    /* Slide out further left */
}

.part-right.content-hidden {
    opacity: 0;
    transform: translateX(150px);
    /* Slide out further right */
}

/* 1. Header & Orbit */
.project-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    width: 100%;
    max-width: 1600px;
}

.project-title {
    color: #CFD0D4;
    text-align: center;
    font-family: 'Anton', sans-serif !important;
    font-size: 200px;
    font-weight: 400;
    line-height: normal;
    letter-spacing: -4px;
    text-transform: uppercase;
    position: relative;
    z-index: 2;
    margin: 0;
    margin-bottom: -150px;
}

.orbit-container {
    position: relative;
    /* Fixed sizes to ensure orbit and calculation works */
    width: 1534px;
    height: 585px;
    min-width: 1534px;
    /* Prevent shrinking */
    min-height: 585px;
    flex-shrink: 0;
    /* Prevent flexitem shrinking */

    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: -180px;

    /* Scale down if viewport is too small (optional, for safety) */
    transform-origin: center center;
}

.orbit-circles-bg {
    position: absolute;
    width: 1534px;
    height: 585px;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 1;
    /* Behind planets (z-index 3+) */
}

.orbit-circle {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 1px solid #FFF;
    filter: blur(1px);
    /* Reduced blur for sharpness */
    border-radius: 50%;
    /* Make them perfect ellipses */
    box-sizing: border-box;
    opacity: 0.6;
    /* Increased opacity for visibility */
}

/* Circle 1: Inner tilted loop - Shifted slightly up/right */
.circle-1 {
    width: 1135px;
    height: 304px;
    top: 48%;
    /* Shift up slightly */
    transform: translate(-50%, -50%) rotate(8deg);
}

/* Circle 2: Middle loop */
.circle-2 {
    width: 1361px;
    height: 304px;
    top: 49%;
}

/* Circle 3: Outer loop - Main horizontal */
.circle-3 {
    width: 1534px;
    height: 304px;
    top: 50%;
}

/* Circle 4: Diagonal crossing loop - Shifted down/left */
.circle-4 {
    width: 1340px;
    height: 312px;
    top: 52%;
    /* Shift down slightly */
    transform: translate(-50%, -50%) rotate(-15deg);
}

.planet-node {
    position: absolute;
    z-index: 3;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    transition: transform 0.3s ease;
}

/* Hover effects */
.planet-node:hover {
    transform: scale(1.1);
}

.planet-node img {
    width: 80px;
    /* Default size for all planets */
    transition: width 0.3s ease;
}

.planet-label {
    color: #FFF;
    font-family: 'Squarea', sans-serif !important;
    font-size: 40px;
    font-weight: 400;
    line-height: 130%;
    letter-spacing: -0.8px;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 5;
    white-space: nowrap;
}

.p-02 {
    top: 55%;
    left: 7%;
}

.p-03 {
    top: 27%;
    right: 4%;
}

.p-01 {
    bottom: 11%;
    left: 50%;
    transform: translateX(-50%);
    /* Important: p-01 relies on translateX to center itself */
}

/* Fix for p-01 hover jumping issue */
.p-01:hover {
    transform: translateX(-50%) scale(1.1);
}

/* Active State Styling */
.planet-node.active {
    z-index: 10;
    top: 78%;
}

.planet-node.active img {
    width: 100px;
    /* Active planet is larger */
}

.vertical-line {
    width: 2px;
    height: 300px;
    background: linear-gradient(0deg, #CFD0D4 0%, rgba(255, 255, 255, 0.00) 100%);
    position: relative;
    margin: 80px auto;
    display: block;
}


/* 2. Content Area (3-Part Layout: Left - Middle - Right) */
.project-content-area {
    width: 100%;
    max-width: 1800px;
    position: relative;
}

.project-3part-layout {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 100%;
    height: 878px;
    padding-top: 50px;
}

/* Part Left: Main Image */
.part-left {
    position: relative;
    z-index: 10;
    left: -8%;
    margin-right: -100px;
    /* Middle과 겹침 */
    display: flex;
    justify-content: flex-end;
    /* 오른쪽 정렬해서 Middle과 닿게 */
}

.img-project-main {
    width: 650px;
    height: auto;
    object-fit: contain;
    filter: drop_shadow(0px 20px 40px rgba(0, 0, 0, 0.6));
}


/* Part Middle: Circle 2 (Background Only) */
.part-middle {
    z-index: 5;
    position: absolute;
    top: 10%;
    left: 50%;
    transform: translate(-50%, 0%);
}

/* .img-circle2 대체: SVG Graphic Styles */
.svg-circle2 {
    width: 673px;
    height: 673px;
    object-fit: contain;
    /* CSS 필터 및 블렌드 모드는 SVG 인라인 스타일로 이미 적용됨 */
    opacity: 0.8;
}

/* [New] Stroke Arc Texture */
.svg-stroke-arc {
    position: absolute;
    top: 25%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 130%;
    height: auto;
    /* 비율 유지 */
    z-index: 2;
    pointer-events: none;
    opacity: 0.5;
}


/* Part Right: Circle 1 + Text Content */
.part-right {
    position: relative;
    top: 0%;
    left: 8%;
    width: 600px;
    z-index: 8;
    /* Middle보다 위에 오도록 */
    display: flex;
    justify-content: center;
    align-items: center;
}

/* .img-circle1 대체: SVG Graphic Styles */
.svg-circle1 {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 878px;
    height: 878px;
    /* CSS 필터 및 블렌드 모드는 SVG 인라인 스타일로 이미 적용됨 */
    z-index: 0;
}

/* Text Box within Part Right */
.text-box {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 2;
    color: #CFD0D4;
    font-family: 'Pretendard', sans-serif !important;
    text-align: left;
    width: 100%;
}

.project-number {
    display: block;
    font-size: 100px;
    font-weight: 700;
    color: #fff;
    line-height: 1;
    margin-bottom: 20px;
}

.text-box h3 {
    font-size: 40px;
    font-weight: 600;
    margin-bottom: 24px;
    color: #fff;
}

.project-desc {
    font-size: 18px;
    line-height: 150%;
    letter-spacing: -0.36px;
    text-align: left;
    margin-bottom: 24px;
    color: #CFD0D4;
    white-space: pre-line;
    font-weight: 400;
    width: 100%;
}

.project-meta {
    font-size: 18px;
    color: #CFD0D4;
    margin-bottom: 40px;
}

.btn-group {
    display: flex;
    gap: 20px;
}

.btn-view {
    padding: 12px 60px;
    border: 1px solid #fff;
    background: transparent;
    color: #CFD0D4;
    font-size: 16px;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.3s;
}

.btn-view:hover {
    background: #fff;
    color: #000;
}